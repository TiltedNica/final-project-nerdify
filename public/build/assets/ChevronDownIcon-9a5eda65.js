import{H as V,c as T,x as X,d as g,y as Y,w as Z,h as ee,o as m,e as te,l as A,K as ae,T as le,t as F,f as oe,p as ne,N as E,g as ie,i as ue,O as re,j as c}from"./LeftSidebar-cf8d6a97.js";import{p as j,k as L,h as b,q as se,s as N,x as H,y as z,F as de,z as ve,A as pe,B as ce,C as k,D as I,o as K,f as U,b as _}from"./app-90fbd17e.js";var $=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))($||{});let fe=j({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:n,attrs:u}){return()=>{let{features:p,...e}=t,v={"aria-hidden":(p&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(p&4)===4&&(p&2)!==2&&{display:"none"}}};return V({ourProps:v,theirProps:e,slot:{},attrs:u,slots:n,name:"Hidden"})}}});function q(t={},n=null,u=[]){for(let[p,e]of Object.entries(t))W(u,Q(n,p),e);return u}function Q(t,n){return t?t+"["+n+"]":n}function W(t,n,u){if(Array.isArray(u))for(let[p,e]of u.entries())W(t,Q(n,p.toString()),e);else u instanceof Date?t.push([n,u.toISOString()]):typeof u=="boolean"?t.push([n,u?"1":"0"]):typeof u=="string"?t.push([n,u]):typeof u=="number"?t.push([n,`${u}`]):u==null?t.push([n,""]):q(u,n,t)}function be(t,n,u){let p=L(u==null?void 0:u.value),e=b(()=>t.value!==void 0);return[b(()=>e.value?t.value:p.value),function(v){return e.value||(p.value=v),n==null?void 0:n(v)}]}function me(t,n){return t===n}var xe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(xe||{}),ge=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ge||{}),he=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(he||{});function ye(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let G=Symbol("ListboxContext");function M(t){let n=ce(G,null);if(n===null){let u=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,M),u}return n}let we=j({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>me},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:n,attrs:u,emit:p}){let e=L(1),v=L(null),h=L(null),y=L(null),f=L([]),a=L(""),l=L(null),O=L(1);function S(o=i=>i){let i=l.value!==null?f.value[l.value]:null,r=re(o(f.value.slice()),x=>m(x.dataRef.domRef)),d=i?r.indexOf(i):null;return d===-1&&(d=null),{options:r,activeOptionIndex:d}}let w=b(()=>t.multiple?1:0),[R,B]=be(b(()=>t.modelValue===void 0?T(w.value,{1:[],0:void 0}):t.modelValue),o=>p("update:modelValue",o),b(()=>t.defaultValue)),P={listboxState:e,value:R,mode:w,compare(o,i){if(typeof t.by=="string"){let r=t.by;return(o==null?void 0:o[r])===(i==null?void 0:i[r])}return t.by(o,i)},orientation:b(()=>t.horizontal?"horizontal":"vertical"),labelRef:v,buttonRef:h,optionsRef:y,disabled:b(()=>t.disabled),options:f,searchQuery:a,activeOptionIndex:l,activationTrigger:O,closeListbox(){t.disabled||e.value!==1&&(e.value=1,l.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(o,i,r){if(t.disabled||e.value===1)return;let d=S(),x=X(o===g.Specific?{focus:g.Specific,id:i}:{focus:o},{resolveItems:()=>d.options,resolveActiveIndex:()=>d.activeOptionIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});a.value="",l.value=x,O.value=r??1,f.value=d.options},search(o){if(t.disabled||e.value===1)return;let i=a.value!==""?0:1;a.value+=o.toLowerCase();let r=(l.value!==null?f.value.slice(l.value+i).concat(f.value.slice(0,l.value+i)):f.value).find(x=>x.dataRef.textValue.startsWith(a.value)&&!x.dataRef.disabled),d=r?f.value.indexOf(r):-1;d===-1||d===l.value||(l.value=d,O.value=1)},clearSearch(){t.disabled||e.value!==1&&a.value!==""&&(a.value="")},registerOption(o,i){let r=S(d=>[...d,{id:o,dataRef:i}]);f.value=r.options,l.value=r.activeOptionIndex},unregisterOption(o){let i=S(r=>{let d=r.findIndex(x=>x.id===o);return d!==-1&&r.splice(d,1),r});f.value=i.options,l.value=i.activeOptionIndex,O.value=1},select(o){t.disabled||B(T(w.value,{0:()=>o,1:()=>{let i=k(P.value.value).slice(),r=k(o),d=i.findIndex(x=>P.compare(r,k(x)));return d===-1?i.push(r):i.splice(d,1),i}}))}};Y([h,y],(o,i)=>{var r;P.closeListbox(),Z(i,ee.Loose)||(o.preventDefault(),(r=m(h))==null||r.focus())},b(()=>e.value===0)),se(G,P),te(b(()=>T(e.value,{0:A.Open,1:A.Closed})));let s=b(()=>{var o;return(o=m(h))==null?void 0:o.closest("form")});return N(()=>{H([s],()=>{if(!s.value||t.defaultValue===void 0)return;function o(){P.select(t.defaultValue)}return s.value.addEventListener("reset",o),()=>{var i;(i=s.value)==null||i.removeEventListener("reset",o)}},{immediate:!0})}),()=>{let{name:o,modelValue:i,disabled:r,form:d,...x}=t,D={open:e.value===0,disabled:r,value:R.value};return z(de,[...o!=null&&R.value!=null?q({[o]:R.value}).map(([C,J])=>z(fe,ae({features:$.Hidden,key:C,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:d,name:C,value:J}))):[],V({ourProps:{},theirProps:{...u,...le(x,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:D,slots:n,attrs:u,name:"Listbox"})])}}}),Re=j({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${F()}`}},setup(t,{attrs:n,slots:u,expose:p}){let e=M("ListboxButton");p({el:e.buttonRef,$el:e.buttonRef});function v(a){switch(a.key){case c.Space:case c.Enter:case c.ArrowDown:a.preventDefault(),e.openListbox(),I(()=>{var l;(l=m(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(g.First)});break;case c.ArrowUp:a.preventDefault(),e.openListbox(),I(()=>{var l;(l=m(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(g.Last)});break}}function h(a){switch(a.key){case c.Space:a.preventDefault();break}}function y(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),I(()=>{var l;return(l=m(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),ye(()=>{var l;return(l=m(e.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let f=oe(b(()=>({as:t.as,type:n.type})),e.buttonRef);return()=>{var a,l;let O={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:S,...w}=t,R={ref:e.buttonRef,id:S,type:f.value,"aria-haspopup":"listbox","aria-controls":(a=m(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(l=m(e.labelRef))==null?void 0:l.id,S].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:v,onKeyup:h,onClick:y};return V({ourProps:R,theirProps:w,slot:O,attrs:n,slots:u,name:"ListboxButton"})}}}),Le=j({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${F()}`}},setup(t,{attrs:n,slots:u,expose:p}){let e=M("ListboxOptions"),v=L(null);p({el:e.optionsRef,$el:e.optionsRef});function h(a){switch(v.value&&clearTimeout(v.value),a.key){case c.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case c.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let l=e.options.value[e.activeOptionIndex.value];e.select(l.dataRef.value)}e.mode.value===0&&(e.closeListbox(),I(()=>{var l;return(l=m(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case T(e.orientation.value,{vertical:c.ArrowDown,horizontal:c.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(g.Next);case T(e.orientation.value,{vertical:c.ArrowUp,horizontal:c.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(g.Previous);case c.Home:case c.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(g.First);case c.End:case c.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(g.Last);case c.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),I(()=>{var l;return(l=m(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case c.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),v.value=setTimeout(()=>e.clearSearch(),350));break}}let y=ne(),f=b(()=>y!==null?(y.value&A.Open)===A.Open:e.listboxState.value===0);return()=>{var a,l,O,S;let w={open:e.listboxState.value===0},{id:R,...B}=t,P={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(S=(l=m(e.labelRef))==null?void 0:l.id)!=null?S:(O=m(e.buttonRef))==null?void 0:O.id,"aria-orientation":e.orientation.value,id:R,onKeydown:h,role:"listbox",tabIndex:0,ref:e.optionsRef};return V({ourProps:P,theirProps:B,slot:w,attrs:n,slots:u,features:E.RenderStrategy|E.Static,visible:f.value,name:"ListboxOptions"})}}}),ke=j({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${F()}`}},setup(t,{slots:n,attrs:u,expose:p}){let e=M("ListboxOption"),v=L(null);p({el:v,$el:v});let h=b(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===t.id:!1),y=b(()=>T(e.mode.value,{0:()=>e.compare(k(e.value.value),k(t.value)),1:()=>k(e.value.value).some(s=>e.compare(k(s),k(t.value)))})),f=b(()=>T(e.mode.value,{1:()=>{var s;let o=k(e.value.value);return((s=e.options.value.find(i=>o.some(r=>e.compare(k(r),k(i.dataRef.value)))))==null?void 0:s.id)===t.id},0:()=>y.value})),a=ie(v),l=b(()=>({disabled:t.disabled,value:t.value,get textValue(){return a()},domRef:v}));N(()=>e.registerOption(t.id,l)),ve(()=>e.unregisterOption(t.id)),N(()=>{H([e.listboxState,y],()=>{e.listboxState.value===0&&y.value&&T(e.mode.value,{1:()=>{f.value&&e.goToOption(g.Specific,t.id)},0:()=>{e.goToOption(g.Specific,t.id)}})},{immediate:!0})}),pe(()=>{e.listboxState.value===0&&h.value&&e.activationTrigger.value!==0&&I(()=>{var s,o;return(o=(s=m(v))==null?void 0:s.scrollIntoView)==null?void 0:o.call(s,{block:"nearest"})})});function O(s){if(t.disabled)return s.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),I(()=>{var o;return(o=m(e.buttonRef))==null?void 0:o.focus({preventScroll:!0})}))}function S(){if(t.disabled)return e.goToOption(g.Nothing);e.goToOption(g.Specific,t.id)}let w=ue();function R(s){w.update(s)}function B(s){w.wasMoved(s)&&(t.disabled||h.value||e.goToOption(g.Specific,t.id,0))}function P(s){w.wasMoved(s)&&(t.disabled||h.value&&e.goToOption(g.Nothing))}return()=>{let{disabled:s}=t,o={active:h.value,selected:y.value,disabled:s},{id:i,value:r,disabled:d,...x}=t,D={id:i,ref:v,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":y.value,disabled:void 0,onClick:O,onFocus:S,onPointerenter:R,onMouseenter:R,onPointermove:B,onMousemove:B,onPointerleave:P,onMouseleave:P};return V({ourProps:D,theirProps:x,slot:o,attrs:u,slots:n,name:"ListboxOption"})}}});function Pe(t,n){return K(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[_("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}function Te(t,n){return K(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[_("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}export{we as F,ke as H,Re as K,Le as N,Pe as a,Te as r};

import{o as l,f as i,b as t,c as u,w as n,a as o,u as a,l as F,j as p,n as m,d as x,g as M,J as A,K as S,h as B,t as g,F as y,m as $,e as P,i as O,L as T,O as b}from"./app-90fbd17e.js";import{R as V,m as j,n as f,M as D,_ as k}from"./LeftSidebar-cf8d6a97.js";import"./index-0bcd163f.js";function E(e,s){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M2 3a1 1 0 00-1 1v1a1 1 0 001 1h16a1 1 0 001-1V4a1 1 0 00-1-1H2z"}),t("path",{"fill-rule":"evenodd",d:"M2 7.5h16l-.811 7.71a2 2 0 01-1.99 1.79H4.802a2 2 0 01-1.99-1.79L2 7.5zm5.22 1.72a.75.75 0 011.06 0L10 10.94l1.72-1.72a.75.75 0 111.06 1.06L11.06 12l1.72 1.72a.75.75 0 11-1.06 1.06L10 13.06l-1.72 1.72a.75.75 0 01-1.06-1.06L8.94 12l-1.72-1.72a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}function H(e,s){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M17 4.517v9.301L5.433 2.252a41.44 41.44 0 019.637.058C16.194 2.45 17 3.414 17 4.517zM3 17.25V6.182l10.654 10.654L10 15.082l-5.925 2.844A.75.75 0 013 17.25zM3.28 2.22a.75.75 0 00-1.06 1.06l14.5 14.5a.75.75 0 101.06-1.06L3.28 2.22z"})])}function N(e,s){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M10 2c-1.716 0-3.408.106-5.07.31C3.806 2.45 3 3.414 3 4.517V17.25a.75.75 0 001.075.676L10 15.082l5.925 2.844A.75.75 0 0017 17.25V4.517c0-1.103-.806-2.068-1.93-2.207A41.403 41.403 0 0010 2z","clip-rule":"evenodd"})])}function U(e,s){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M18 5.25a2.25 2.25 0 00-2.012-2.238A2.25 2.25 0 0013.75 1h-1.5a2.25 2.25 0 00-2.238 2.012c-.875.092-1.6.686-1.884 1.488H11A2.5 2.5 0 0113.5 7v7h2.25A2.25 2.25 0 0018 11.75v-6.5zM12.25 2.5a.75.75 0 00-.75.75v.25h3v-.25a.75.75 0 00-.75-.75h-1.5z","clip-rule":"evenodd"}),t("path",{"fill-rule":"evenodd",d:"M3 6a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V7a1 1 0 00-1-1H3zm6.874 4.166a.75.75 0 10-1.248-.832l-2.493 3.739-.853-.853a.75.75 0 00-1.06 1.06l1.5 1.5a.75.75 0 001.154-.114l3-4.5z","clip-rule":"evenodd"})])}function R(e,s){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M11 5a3 3 0 11-6 0 3 3 0 016 0zM2.046 15.253c-.058.468.172.92.57 1.175A9.953 9.953 0 008 18c1.982 0 3.83-.578 5.384-1.573.398-.254.628-.707.57-1.175a6.001 6.001 0 00-11.908 0zM12.75 7.75a.75.75 0 000 1.5h5.5a.75.75 0 000-1.5h-5.5z"})])}function J(e,s){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M11 5a3 3 0 11-6 0 3 3 0 016 0zM2.615 16.428a1.224 1.224 0 01-.569-1.175 6.002 6.002 0 0111.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 018 18a9.953 9.953 0 01-5.385-1.572zM16.25 5.75a.75.75 0 00-1.5 0v2h-2a.75.75 0 000 1.5h2v2a.75.75 0 001.5 0v-2h2a.75.75 0 000-1.5h-2v-2z"})])}function K(e,s){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])}const W=t("img",{src:"/img/ic_More.svg",alt:""},null,-1),Y={class:"px-1 py-1"},q={class:"px-1 py-1"},G={__name:"DropdownPostMenu",props:{post:Object,user:Object},setup(e){return(s,v)=>(l(),u(a(D),{as:"div",class:"relative inline-block text-left"},{default:n(()=>[t("div",null,[o(a(V),{class:"bg-[#F1F1F5] px-1 h-fit rounded-md"},{default:n(()=>[W]),_:1})]),o(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:n(()=>[o(a(j),{class:"absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[t("div",Y,[o(a(f),null,{default:n(({active:d})=>[e.post.is_saved?(l(),u(a(p),{key:1,as:"button","preserve-scroll":"",method:"DELETE",href:s.route("unsave-post.destroy",{post:`${e.post.id}`}),class:m([d?"bg-violet-500 text-white":"text-gray-900","group flex w-full flex gap-x-4 items-center rounded-md px-2 py-2 text-sm"])},{default:n(()=>[o(a(H),{class:"w-6 h-6 text-slate-400"}),x(" Unsave Post ")]),_:2},1032,["href","class"])):(l(),u(a(p),{key:0,as:"button","preserve-scroll":"",method:"POST",href:s.route("saved-post.store",{post:`${e.post.id}`}),class:m([d?"bg-violet-500 text-white":"text-gray-900","group flex gap-x-4 w-full items-center rounded-md px-2 py-2 text-sm"])},{default:n(()=>[o(a(N),{class:"w-6 h-6 text-slate-400"}),x(" Save Post ")]),_:2},1032,["href","class"]))]),_:1}),s.$page.props.auth.user.id!==e.post.user.id&&!e.post.is_hidden?(l(),u(a(f),{key:0},{default:n(({active:d})=>[o(a(p),{as:"button","preserve-scroll":"",method:"POST",href:s.route("post.hide",{post:`${e.post.id}`}),class:m([d?"bg-violet-500 text-white":"text-gray-900","group flex w-full gap-x-4 items-center rounded-md px-2 py-2 text-sm"])},{default:n(()=>[o(a(K),{class:"w-6 h-6 text-slate-400"}),x(" Hide this Post ")]),_:2},1032,["href","class"])]),_:1})):(l(),u(a(f),{key:1},{default:n(({active:d})=>[o(a(p),{as:"button","preserve-scroll":"",method:"POST",href:s.route("post.hide",{post:`${e.post.id}`}),class:m([d?"bg-violet-500 text-white":"text-gray-900","group flex w-full gap-x-4 items-center rounded-md px-2 py-2 text-sm"])},{default:n(()=>[o(a(U),{class:"w-6 h-6 text-slate-400"}),x(" Show this Post ")]),_:2},1032,["href","class"])]),_:1}))]),t("div",q,[s.$page.props.auth.user.id!==e.post.user.id?(l(),u(a(f),{key:0},{default:n(({active:d})=>[o(a(p),{as:"button","preserve-scroll":"",method:"POST",href:s.route("post.hide-all-user-posts",{user:`${e.user.id}`}),class:m([d?"bg-violet-500 text-white":"text-gray-900","group flex w-full items-center gap-x-4 rounded-md px-2 py-2 text-sm"])},{default:n(()=>[o(a(E),{class:"w-6 h-6 text-slate-400"}),x(" Hide All Posts ")]),_:2},1032,["href","class"])]),_:1})):M("",!0),s.$page.props.auth.user.id!==e.post.user.id?(l(),u(a(f),{key:1},{default:n(({active:d})=>[t("div",null,[e.post.is_following?(l(),u(a(p),{key:1,as:"button","preserve-scroll":"",method:"DELETE",href:s.route("users.unfollow",{user:`${e.post.user.username}`}),class:m([d?"bg-violet-500 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm gap-x-4"])},{default:n(()=>[o(a(R),{class:"w-6 h-6 text-slate-400"}),x(" UnFollow ")]),_:2},1032,["href","class"])):(l(),u(a(p),{key:0,as:"button","preserve-scroll":"",class:m([d?"bg-violet-500 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm gap-x-4"]),method:"POST",href:s.route("users.follow",{user:`${e.post.user.username}`})},{default:n(()=>[o(a(J),{class:"w-6 h-6 text-slate-400"}),x(" Follow ")]),_:2},1032,["class","href"]))])]),_:1})):M("",!0)])]),_:1})]),_:1})]),_:1}))}},I={id:"CreatePostBox",class:"w-[625px] p-5 bg-white rounded-t-2xl mt-3 border-b-2"},Q={class:"flex justify-between"},X={class:"flex items-center gap-x-2.5"},Z={class:"text-[#171725] font-semibold"},ee={class:"text-[#92929D] text-[12px] font-normal"},te={class:"mt-5 text-[#44444F] text-[14px] leading-6"},se={key:0,class:"grid grid-cols-2 grid-flow-dense gap-3.5 border-b-2 pb-5 mt-5"},le={key:0,autoplay:"autoplay",muted:"",controls:""},ae=["src"],oe=["src"],re={class:"flex items-center gap-x-12 mt-5"},ie={class:"flex gap-x-2.5"},ne=t("img",{src:"/img/ic_comment.svg",alt:""},null,-1),de={class:"text-[#44444F] text-[14px] leading-6"},ce={class:"flex gap-x-2.5"},ue={key:0,src:"/img/ic_like.svg",class:"h-6 w-6",alt:""},he={key:1,src:"/img/heart-solid.svg",class:"h-6 w-6",alt:""},me={class:"text-[#44444F] text-[14px] leading-6"},pe={class:"flex gap-x-2.5"},xe=t("img",{src:"/img/ic_Saved.svg",alt:""},null,-1),ge={class:"text-[#44444F] text-[14px] leading-6"},fe={class:"w-[625px] p-5 bg-white rounded-b-2xl border-b-2 flex gap-x-2.5 flex-col gap-y-2.5"},ve={class:"bg-[#FAFAFB] p-2.5 rounded-2xl text-[14px] text-[#92929D]"},we={class:"flex items-center gap-x-2.5"},_e=["onSubmit"],Me={__name:"Post",props:{user:Object,post:Object,comments:Object},setup(e){const s=e,v=A({comment:null}),d=h=>/\.mp4$/i.test(h),w=S().props.auth.user,z=B(()=>{let h=!1;for(let c=0;c<s.post.likes.length;c++){const r=s.post.likes[c];r.user_id===w.id&&r.post_id===s.post.id&&(h=!0)}return h}),L=()=>{let h=!1,c=null;for(let r=0;r<s.post.likes.length;r++){const _=s.post.likes[r];_.user_id===w.id&&_.post_id===s.post.id&&(h=!0,c=_.id)}h?b.delete("/likes/"+c,{preserveScroll:!0}):b.post("/likes",{post_id:s.post.id},{preserveScroll:!0})},C=()=>{b.post("/comment",{post_id:s.post.id,text:v.comment},{preserveScroll:!0})};return(h,c)=>(l(),i(y,null,[t("div",I,[t("div",Q,[t("div",X,[o(k,{w:"42",h:"42",username:e.user.username,image:e.user.image},null,8,["username","image"]),t("div",null,[t("h3",Z,g(e.user.name),1),t("div",ee,g(e.post.created_at),1)])]),o(G,{user:e.user,post:e.post},null,8,["user","post"])]),t("p",te,g(e.post.text),1),e.post.images?(l(),i("div",se,[(l(!0),i(y,null,$(e.post.images,r=>(l(),i("div",{class:m([d(r.name)?"aspect-w-16 aspect-h-9 w-full col-span-2":""])},[d(r.name)?(l(),i("video",le,[t("source",{src:"/storage/images/"+r.path},null,8,ae)])):(l(),i("img",{key:1,class:"w-[285px] h-[330px] object-cover rounded-2xl",src:"/storage/images/"+r.path,alt:""},null,8,oe))],2))),256))])):M("",!0),t("div",re,[t("div",ie,[ne,t("h3",de,g(e.comments.length)+" Comments",1)]),t("div",ce,[t("button",{onClick:L},[z.value?(l(),i("img",he)):(l(),i("img",ue))]),t("h3",me,g(e.post.likes.length)+" Likes",1)]),t("div",pe,[xe,t("h3",ge,g(e.post.saved_count)+" Saved",1)])])]),t("div",fe,[(l(!0),i(y,null,$(e.comments,r=>(l(),i("div",{key:r,class:"flex items-center gap-x-2.5"},[o(k,{username:e.user.username,w:"36",h:"36",image:r.user.image},null,8,["username","image"]),t("div",ve,g(r.text),1)]))),128)),t("div",we,[o(k,{username:e.user.username,w:"36",h:"36",image:a(w).image},null,8,["username","image"]),t("form",{onSubmit:P(C,["prevent"]),class:"flex relative w-full"},[O(t("input",{"onUpdate:modelValue":c[0]||(c[0]=r=>v.comment=r),type:"text",placeholder:"Write Your Comment",class:"bg-[#FAFAFB] placeholder-[#92929D] placeholder: leading-6 placeholder:text-[14px] border-none rounded-2xl w-full"},null,512),[[T,v.comment]])],40,_e)])])],64))}};export{Me as _};
